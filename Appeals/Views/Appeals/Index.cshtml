@{
    ViewData["Title"] = "Appeals";
}

<div class="container">
    <div class="header">
        <h1>Список обращений</h1>
        <button id="addAppealButton">Добавить новое обращение</button>
    </div>
    <div id="errorMessage" class="error-message hidden"></div>
    <div class="filters">
        <label for="statusFilter">Фильтр по статусу:</label>
        <select id="statusFilter" onchange="handleStatusFilterChange()">
            <option value="">Все</option>
        </select>

        <label for="dateRangeFilter">Диапазон дат:</label>
        <input type="text" id="dateRangeFilter" placeholder="Выберите диапазон дат" readonly>
        <button id="clearFiltersButton">Сбросить фильтры</button>
    </div>
    <table class="appeals-table">
        <thead>
            <tr>
                <th>Тема</th>
                <th>Заголовок</th>
                <th>Статус</th>
                <th>Дата создания</th>
            </tr>
        </thead>
        <tbody id="appeals-list">
            <!-- Обращения будут добавлены здесь динамически с помощью JavaScript -->
        </tbody>
    </table>
</div>

<!-- Включение модального окна -->
<div id="addAppealModal" class="modal">
    <div class="modal-content profile-container">
        <span class="close">&times;</span>
        <h1 id="modalTitle">Просмотр обращения</h1>
        <form id="viewAppealForm">
            <div class="form-group">
                <label for="theme">Тема:</label>
                <select id="theme" name="theme" class="form-control" required></select>
            </div>
            <div class="form-group">
                <label for="title">Заголовок:</label>
                <input type="text" id="title" name="title" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="content">Текст обращения:</label>
                <textarea id="content" name="content" class="form-control" rows="10" required></textarea>
            </div>
            <div class="form-group" id="statusGroup" style="display: none;">
                <label for="status">Статус:</label>
                <span id="statusBadge" class="status-badge"></span>
            </div>
            <div class="form-group" id="creationDateGroup" style="display: none;">
                <label for="creationDate">Дата создания:</label>
                <input type="text" id="creationDate" name="creationDate" class="form-control" readonly>
            </div>
            <div class="button-group">
                <button type="button" id="saveButton" class="btn btn-primary">Сохранить</button>
                <button type="button" id="sendButton" class="btn btn-primary">Отправить</button>
                <button type="button" id="cancelButton" class="btn btn-secondary">Отмена</button>
                <button type="button" id="deleteButton" class="btn btn-danger">Удалить</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="~\js\appealsList.js"></script>
}
